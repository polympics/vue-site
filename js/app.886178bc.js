(function(e){function t(t){for(var n,i,s=t[0],o=t[1],u=t[2],m=0,p=[];m<s.length;m++)i=s[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,u||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==r[o]&&(n=!1)}n&&(c.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},c=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=o;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"0192":function(e,t,a){},"0f63":function(e,t,a){},"12e5":function(e,t,a){"use strict";a("d692")},"2aeb":function(e,t,a){},"38ec":function(e,t,a){},"3bdd":function(e,t,a){},"3c37":function(e,t,a){},"3d5f":function(e,t,a){"use strict";a("0192")},"3e0e":function(e,t,a){},"44b8":function(e,t,a){"use strict";a("548d")},"4a52":function(e,t,a){"use strict";a("c7cf")},"548d":function(e,t,a){},"5c31":function(e,t,a){"use strict";a("7031")},"5e68":function(e,t,a){"use strict";a("3e0e")},"5eae":function(e,t,a){"use strict";a("3bdd")},"60e8":function(e,t,a){"use strict";a("9cf8")},"674c":function(e,t,a){"use strict";a("97d4")},7031:function(e,t,a){},"84f5":function(e,t,a){"use strict";a("d4c6")},8811:function(e,t,a){"use strict";a("3c37")},"97d4":function(e,t,a){},"9cf8":function(e,t,a){},"9d38":function(e,t,a){"use strict";a("38ec")},a5b8:function(e,t,a){},ae6e:function(e,t,a){"use strict";a("a5b8")},b4a0:function(e,t,a){"use strict";a("fecf")},c166:function(e,t,a){"use strict";a("2aeb")},c7cf:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("a630"),a("3ca3"),a("159b");var n,r,c,i,s,o,u,l,m=a("2b0e"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"body"},[a("NavBar",{attrs:{account:e.userAccount}}),a("transition",{attrs:{name:"slide_transition",mode:"out-in"}},[e.client?a("router-view",{key:e.$route.path,attrs:{client:e.client,userAccount:e.userAccount},on:{newCredentials:e.getAccount}}):a("main",{staticClass:"main main--centered"},[a("section",{staticClass:"page_intro page_intro--centered"},[a("i",{staticClass:"fas fa-spinner fa-spin fa-5x"})])])],1),a("Footer")],1)},h=[],b=a("1da1"),f=a("d4ec"),d=a("bee2"),_=a("257e"),v=a("262e"),g=a("2caf"),O=a("ade3"),j=(a("96cf"),a("99af"),a("1b40")),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"nav_very_outer"},[e.showNavbar?e._e():a("div",{staticClass:"navbar_button",on:{click:function(t){e.showNavbar=!0}}},[a("i",{staticClass:"fas fa-bars"})]),a("transition",{attrs:{name:"navbar_mob_transition"}},[e.showNavbar?a("div",{staticClass:"navbar__outer_wrapper",on:{click:e.navbarClick}},[a("nav",{staticClass:"navbar"},[a("router-link",{staticClass:"navbar__home",attrs:{to:"/"}},[a("img",{staticClass:"navbar__home__icon",attrs:{src:"/img/icons/icon-192.png",alt:"Polympics Logo"}}),a("span",{staticClass:"navbar__home__text"},[e._v("Polympics")])]),a("div",{staticClass:"navbar__wrapper"},[a("div",{staticClass:"navbar__menu"},[a("span",{staticClass:"navbar__menu__title"},[e._v("Teams")]),a("router-link",{staticClass:"navbar__menu__item",attrs:{to:"/teams"}},[e._v("All Teams")]),e.account&&e.account.team?a("router-link",{staticClass:"navbar__menu__item",attrs:{to:"/team/"+e.account.team.id}},[e._v("My Team")]):e._e(),e.canCreateTeam?a("router-link",{staticClass:"navbar__menu__item",attrs:{to:"/teams/create"}},[e._v("Create Team")]):e._e()],1),a("div",{staticClass:"navbar__menu"},[a("span",{staticClass:"navbar__menu__title"},[e._v("Members")]),a("router-link",{staticClass:"navbar__menu__item",attrs:{to:"/accounts"}},[e._v("All Members")]),e.account?a("router-link",{staticClass:"navbar__menu__item",attrs:{to:"/account/"+e.account.id}},[e._v("Me")]):e._e(),e.account?a("router-link",{staticClass:"navbar__menu__item",attrs:{to:"/logout"}},[e._v("Logout")]):a("router-link",{staticClass:"navbar__menu__item",attrs:{to:"/login"}},[e._v("Login or Signup")])],1),a("div",{staticClass:"navbar__menu"},[a("span",{staticClass:"navbar__menu__title"},[e._v("About")]),a("router-link",{staticClass:"navbar__menu__item",attrs:{to:"/about"}},[e._v("About")]),a("a",{staticClass:"navbar__menu__item",attrs:{href:"#"}},[e._v("Events")])],1)])],1)]):e._e()])],1)},w=[],C=a("6b7b"),k=a("63ae"),x=(a("f890"),n=Object(j["b"])(),Object(j["a"])((s=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(C["a"])(Object(_["a"])(e),"account",i,Object(_["a"])(e)),Object(O["a"])(Object(_["a"])(e),"mobile",!1),Object(O["a"])(Object(_["a"])(e),"showNavbar",!0),e}return Object(d["a"])(a,[{key:"created",value:function(){this.mobile=window.matchMedia("(hover: none)").matches,this.showNavbar=!this.mobile}},{key:"canCreateTeam",get:function(){return this.account&&this.account.permissions&polympics.PolympicsPermissions.manageTeams}},{key:"navbarClick",value:function(){this.mobile&&(this.showNavbar=!1)}}]),a}(j["c"]),c=s,i=Object(k["a"])(c.prototype,"account",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=c))||r),A=x,T=(a("f031"),a("2877")),P=Object(T["a"])(A,y,w,!1,null,"6aefeda2",null),$=P.exports,R=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},M=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",{staticClass:"footer"},[e._v("Polympics website, by Artemis."),a("br"),a("br"),e._v("This site is still in beta, so expect to see links that don't lead anywhere and placeholder content."),a("br"),a("br"),a("a",{attrs:{href:"https://discord.gg/HYnQQdJFeP"}},[e._v("Join now on Discord!")])])}],E=(a("60e8"),{}),S=Object(T["a"])(E,R,M,!1,null,"ae8ba636",null),D=S.exports,N=(o=Object(j["a"])({components:{NavBar:$,Footer:D}}),o((l=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(O["a"])(Object(_["a"])(e),"client",null),Object(O["a"])(Object(_["a"])(e),"userAccount",null),e}return Object(d["a"])(a,[{key:"mounted",value:function(){this.getAccount(),window.setInterval(this.getAccount,3e5)}},{key:"getAccount",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=common.getClient("https://api.polytopia.fun"),!t.getSelf){e.next=7;break}return e.next=4,t.getSelf();case 4:this.userAccount=e.sent,e.next=8;break;case 7:this.userAccount=null;case 8:this.client=t;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(j["c"]),u=l))||u),I=N,L=(a("cf25"),Object(T["a"])(I,p,h,!1,null,null,null)),z=L.exports,q=a("9483");Object(q["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var B,U,F,K,W,V,J,Y,H,Q,Z,G,X,ee,te,ae,ne,re,ce,ie,se,oe,ue,le=a("8c4f"),me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main main--centered"},[e._m(0),a("LinkCard",{attrs:{link:"/login",title:"Sign up"}},[e._v("Put your name down to represent your country, city or state in a summer of competetive Polytopia fun!")]),a("LinkCard",{attrs:{link:"/about",title:"Read all about it"}},[e._v("Read and understand the nitty-gritty details behind the event.")]),a("LinkCard",{attrs:{link:"/discord",title:"Join the community"}},[e._v("Join our Discord server, where you can connect with other players and ask all the questions you need to about the event.")]),a("LinkCard",{attrs:{link:"/events",title:"See the events"}},[e._v("We have an event to suit everyone and the Polympics. View the full list here.")])],1)},pe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"page_intro page_intro--centered"},[a("img",{staticClass:"page_intro__icon",attrs:{src:"/img/logo.png",alt:"PolyChampions Logo"}}),a("h1",{staticClass:"page_intro__header"},[e._v("Polympics")]),a("p",{staticClass:"page_intro__slogan"},[e._v("A worldwide event to bring the Polytopia community together for a summer of fun!")])])}],he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},be=[],fe=(B=Object(j["a"])({}),U=Object(j["b"])(),F=Object(j["b"])(),B((Y=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(C["a"])(Object(_["a"])(e),"userAccount",V,Object(_["a"])(e)),Object(C["a"])(Object(_["a"])(e),"client",J,Object(_["a"])(e)),e}return a}(j["c"]),W=Y,V=Object(k["a"])(W.prototype,"userAccount",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=Object(k["a"])(W.prototype,"client",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=W))||K),de=fe,_e=Object(T["a"])(de,he,be,!1,null,null,null),ve=_e.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",{staticClass:"card_item",attrs:{to:e.link}},[a("div",{staticClass:"card_item__content_wrapper"},[a("h2",{staticClass:"card_item__header"},[e._v(e._s(e.title))]),a("p",{staticClass:"card_item__content"},[e._t("default")],2)]),a("i",{staticClass:"fas fa-arrow-right card_item__arrow"})])},Oe=[],je={props:["link","title"]},ye=je,we=(a("3d5f"),Object(T["a"])(ye,ge,Oe,!1,null,"d1e1e87a",null)),Ce=we.exports,ke=(H=Object(j["a"])({components:{LinkCard:Ce}}),Q=Object(j["b"])(),H((ee=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(C["a"])(Object(_["a"])(e),"userAccount",X,Object(_["a"])(e)),e}return a}(ve),G=ee,X=Object(k["a"])(G.prototype,"userAccount",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=G))||Z),xe=ke,Ae=Object(T["a"])(xe,me,pe,!1,null,null,null),Te=Ae.exports,Pe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},$e=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main"},[a("section",{staticClass:"page_intro"},[a("h1",{staticClass:"page_intro__header"},[e._v("About Polympics")]),a("p",{staticClass:"page_intro__slogan"},[e._v("A worldwide event to bring the Polytopia community together for a summer of fun.")])]),a("img",{staticClass:"page_image",attrs:{src:"/img/logo.png",alt:"Polympics logo"}}),a("section",{staticClass:"page_content"},[a("h3",{staticClass:"page_content__header"},[e._v("Most cats have")]),a("p",{staticClass:"page_content__p"},[e._v('five claws on their front paws, and four on their rear paws. The dewclaw is proximal to the other claws. More proximally is a protrusion which appears to be a sixth "finger". This special feature of the front paws, on the inside of the wrists has no function in normal walking, but is thought to be an antiskidding device used while jumping. Some cat breeds are prone to having extra digits (â€œpolydactylyâ€).')])]),a("section",{staticClass:"page_content"},[a("h3",{staticClass:"page_content__header"},[e._v("The domestic cat's hearing")]),a("p",{staticClass:"page_content__p"},[e._v("is most acute in the range of 500 Hz to 32 kHz.")]),a("p",{staticClass:"page_content__p"},[e._v("Its hearing sensitivity is enhanced by its large movable outer ears, the pinnae, which amplify sounds and help detect the location of a noise. It can detect ultrasound, which enables it to detect ultrasonic calls made by rodent prey.")])]),a("section",{staticClass:"page_content"},[a("h3",{staticClass:"page_content__header"},[e._v("To aid with navigation and sensation,")]),a("p",{staticClass:"page_content__p"},[e._v("cats have dozens of movable whiskers (vibrissae) over their body, especially their faces. These provide information on the width of gaps and on the location of objects in the dark, both by touching objects directly and by sensing air currents; they also trigger protective blink reflexes to protect the eyes from damage.:47")])]),a("section",{staticClass:"page_content"},[a("h3",{staticClass:"page_content__header"},[e._v("Cats conserve energy")]),a("p",{staticClass:"page_content__p"},[e._v('by sleeping more than most animals, especially as they grow older. The daily duration of sleep varies, usually between 12 and 16 hours, with 13 and 14 being the average. Some cats can sleep as much as 20 hours. The term "cat nap" for a short rest refers to the cat\'s tendency to fall asleep (lightly) for a brief period. While asleep, cats experience short periods of rapid eye movement sleep often accompanied by muscle twitches, which suggests they are dreaming.')])]),a("section",{staticClass:"page_content"},[a("h3",{staticClass:"page_content__header"},[e._v("Purring may have developed")]),a("p",{staticClass:"page_content__p"},[e._v("as an evolutionary advantage as a signalling mechanism of reassurance between mother cats and nursing kittens. Post-nursing cats often purr as a sign of contentment: when being petted, becoming relaxed.")])])])}],Re=Object(j["a"])(te=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){return Object(f["a"])(this,a),t.apply(this,arguments)}return a}(ve))||te,Me=Re,Ee=Object(T["a"])(Me,Pe,$e,!1,null,null,null),Se=Ee.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main main--centered"},[a("ProfileCard",{attrs:{account:e.account}},[e.canChangeTeam?a("h3",[e._v("Change Team")]):e._e(),e.canChangeTeam&&e.isOwnAccount?a("Warning",{staticClass:"section_warning"},[e._v("Changing your team frequently is not allowed and may result in a ban. Please chose a team and stick to it, preferably one that matches your nationality.")]):e._e(),e.canChangeTeam?a("TeamSelector",{attrs:{selectedTeam:e.account.team,client:e.client},on:{input:e.updateTeam}}):e._e(),e.canChangeDetails?a("h3",[e._v("Change Name")]):e._e(),e.canChangeDetails?a("DiscordNameInput",{attrs:{username:e.account.name,discriminator:e.account.discriminator},on:{usernameInput:e.updateUsername,discriminatorInput:e.updateDiscriminator}}):e._e(),e.canChangeDetails?a("h3",[e._v("Change Avatar")]):e._e(),e.canChangeDetails?a("ImageUrlInput",{attrs:{value:e.account.avatarUrl},on:{input:e.updateAvatarUrl}}):e._e(),e.canChangePermissions?a("h3",[e._v("Change Permissions")]):e._e(),e.canChangePermissions&&e.isOwnAccount?a("Warning",{staticClass:"section_warning"},[e._v("If you revoke your own permissions you may not be able to get them back.")]):e._e(),e.canChangePermissions?a("PermissionsInput",{attrs:{value:e.account.permissions,userPermissions:e.userAccount.permissions},on:{input:e.updatePermissions}}):e._e(),e.canDeleteAccount?a("h3",[e._v("Danger Area")]):e._e(),e.canDeleteAccount?a("button",{staticClass:"button button--danger button--enabled",on:{click:function(t){e.showAccountDeleteModal=!0}}},[e._v("Delete Account")]):e._e(),a("Modal",{staticClass:"delete_modal",attrs:{show:e.showAccountDeleteModal}},[a("h2",[e._v("Delete account?")]),a("p",[e._v("You cannot undo this action. Make sure you're certain you want to delete "+e._s(e.accountPossesive)+" account.")]),a("button",{staticClass:"button button--black button--enabled",on:{click:e.deleteAccount}},[e._v("Delete")]),a("button",{staticClass:"button button--black button--enabled",on:{click:function(t){e.showAccountDeleteModal=!1}}},[e._v("Cancel")])])],1)],1)},Ne=[],Ie=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"account"},[a("img",{staticClass:"account__pfp",attrs:{src:e.account.avatarUrl+"?size=256",alt:"Profile Picture"}}),a("div",{staticClass:"account__details"},[a("h1",{staticClass:"account__name"},[e._v(e._s(e.account.name)),a("span",{staticClass:"account__discrim"},[e._v("#"+e._s(e.account.discriminator))])]),e.account.team?a("router-link",{staticClass:"account__team",attrs:{to:"/team/"+e.account.team.id}},[e._v(e._s(e.account.team.name))]):a("span",{staticClass:"account__team account__team--none"},[e._v("ðŸ³ï¸â€ðŸŒˆ No team")]),e._t("default")],2)])}),Le=[],ze={props:["account"]},qe=ze,Be=(a("674c"),Object(T["a"])(qe,Ie,Le,!1,null,"2fe47836",null)),Ue=Be.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("input",{staticClass:"text_input long_text_input",attrs:{type:"url",pattern:"https?://.*.(png|gif|jpg|jpeg|webp|apng|jfif)",placeholder:"Image URL",onClick:"this.select();"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})},Ke=[],We={props:["value"]},Ve=We,Je=Object(T["a"])(Ve,Fe,Ke,!1,null,null,null),Ye=Je.exports,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"discord_name_input"},[a("input",{staticClass:"text_input",attrs:{placeholder:"Wumpus"},domProps:{value:e.username},on:{input:function(t){return e.$emit("usernameInput",t.target.value)}}}),a("span",{staticClass:"separator"},[e._v("#")]),a("input",{staticClass:"text_input discriminator_input",attrs:{type:"number",placeholder:"0000",min:"0",max:"9999"},domProps:{value:e.discriminator},on:{input:function(t){return e.$emit("discriminatorInput",t.target.value)}}})])},Qe=[],Ze={props:["username","discriminator"]},Ge=Ze,Xe=(a("5e68"),Object(T["a"])(Ge,He,Qe,!1,null,"b263c74a",null)),et=Xe.exports,tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"permissions_input"},e._l(e.inputs,(function(t){return a("label",{key:t.id,staticClass:"permissions_input__flag",class:t.enabled?"":"permissions_input__flag--disabled",attrs:{for:t.id}},[a("input",{attrs:{type:"checkbox",id:t.id,disabled:!t.enabled},domProps:{checked:t.value},on:{change:function(a){return e.updateFlag(t.flag,a.target.checked)}}}),a("span",[e._v(e._s(t.prettyName))])])})),0)},at=[],nt=a("b85c"),rt=(a("5319"),a("ac1f"),["managePermissions","manageAccountTeams","manageAccountDetails","manageTeams","manageOwnTeam"]);function ct(e){var t=e.replace(/([a-z])([A-Z])/gm,"$1 $2");return t.charAt(0).toUpperCase()+t.substr(1)}var it,st,ot,ut,lt,mt,pt,ht,bt,ft,dt,_t,vt,gt,Ot,jt,yt,wt,Ct,kt,xt,At,Tt,Pt,$t,Rt,Mt,Et,St,Dt,Nt,It,Lt,zt,qt,Bt,Ut,Ft,Kt,Wt,Vt,Jt,Yt,Ht,Qt,Zt,Gt,Xt,ea,ta,aa,na,ra,ca,ia,sa,oa,ua,la,ma=(ae=Object(j["a"])(),ne=Object(j["b"])(),re=Object(j["b"])(),ae((ue=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(C["a"])(Object(_["a"])(e),"value",se,Object(_["a"])(e)),Object(C["a"])(Object(_["a"])(e),"userPermissions",oe,Object(_["a"])(e)),e}return Object(d["a"])(a,[{key:"inputs",get:function(){var e,t=[],a=Object(nt["a"])(rt);try{for(a.s();!(e=a.n()).done;){var n=e.value,r=polympics.PolympicsPermissions[n],c=this.userPermissions&r,i="permissions__".concat(n),s=ct(n);c||"manageOwnTeam"!==n||this.userPermissions&polympics.PolympicsPermissions.manageTeams&&(c=!0),t.push({enabled:c,id:i,prettyName:s,flag:r,value:!!(this.value&r)})}}catch(o){a.e(o)}finally{a.f()}return t}},{key:"updateFlag",value:function(e,t){var a={};t?a.grant=e:a.revoke=e,this.$emit("input",a)}}]),a}(j["c"]),ie=ue,se=Object(k["a"])(ie.prototype,"value",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=Object(k["a"])(ie.prototype,"userPermissions",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=ie))||ce),pa=ma,ha=(a("b4a0"),Object(T["a"])(pa,tt,at,!1,null,"0b69592d",null)),ba=ha.exports,fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"team_selector"},[a("div",{staticClass:"search_bar"},[a("input",{staticClass:"search_bar__input text_input",attrs:{placeholder:"Start searching...",type:"search"},on:{input:function(t){return e.fetchTeams(t.target.value)}}})]),e.teams.length?a("table",{staticClass:"teams_list"},e._l(e.teams,(function(t){return a("tr",{staticClass:"teams_list__team",class:e.teamSelected(t)?"teams_list__team--selected":"",on:{mouseup:function(a){return a.preventDefault(),e.selectTeam(t)}}},[a("td",[a("label",{attrs:{for:"team_"+t.id}},[a("input",{attrs:{type:"radio",name:"team",id:"team_"+t.id}}),e._v(e._s(t.name))])]),t.isPlaceholder?a("td"):a("td",[e._v(e._s(t.memberCount)+" Members")])])})),0):a("p",{staticClass:"team_selector__placeholder"},[e._v("There's nothing here!")])])},da=[],_a={name:"ðŸ³ï¸â€ðŸŒˆ No team",id:0,isPlaceholder:!0,memberCount:0},va=(it=Object(j["a"])(),st=Object(j["b"])(),ot=Object(j["b"])(),it((ht=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(O["a"])(Object(_["a"])(e),"teams",[]),Object(C["a"])(Object(_["a"])(e),"selectedTeam",mt,Object(_["a"])(e)),Object(C["a"])(Object(_["a"])(e),"client",pt,Object(_["a"])(e)),e}return Object(d["a"])(a,[{key:"mounted",value:function(){this.fetchTeams("")}},{key:"getSelectedTeam",value:function(){return this.selectedTeam||_a}},{key:"fetchTeams",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.client.listTeams({search:t}),e.next=3,a.getPage({perPage:5});case 3:this.teams=e.sent.data,n=this.getSelectedTeam(),r=this.teams.some((function(e){return e.id===n.id})),r||this.teams.unshift(n),n!==_a&&this.teams.unshift(_a);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"selectTeam",value:function(e){if(!this.teamSelected(e)){var t,a=Object(nt["a"])(this.teams);try{for(a.s();!(t=a.n()).done;){var n=t.value;this.teamSelected(n)&&(n.memberCount-=1)}}catch(r){a.e(r)}finally{a.f()}e.memberCount+=1,e===_a?this.$emit("input",null):this.$emit("input",e)}}},{key:"teamSelected",value:function(e){return e.id===this.getSelectedTeam().id}}]),a}(j["c"]),lt=ht,mt=Object(k["a"])(lt.prototype,"selectedTeam",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=Object(k["a"])(lt.prototype,"client",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=lt))||ut),ga=va,Oa=(a("ae6e"),Object(T["a"])(ga,fa,da,!1,null,"4305d67a",null)),ja=Oa.exports,ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"warning"},[a("h4",{staticClass:"warning__title"},[e._v("Warning")]),e._t("default")],2)},wa=[],Ca=(a("12e5"),{}),ka=Object(T["a"])(Ca,ya,wa,!1,null,"34a90c4e",null),xa=ka.exports,Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal_transition"}},[e.show?a("div",{staticClass:"modal_wrapper"},[a("div",{staticClass:"modal"},[e._t("default")],2)]):e._e()])},Ta=[],Pa={props:["show"]},$a=Pa,Ra=(a("44b8"),Object(T["a"])($a,Aa,Ta,!1,null,"75a88e26",null)),Ma=Ra.exports,Ea=(bt=Object(j["a"])({components:{ProfileCard:Ue,ImageUrlInput:Ye,DiscordNameInput:et,PermissionsInput:ba,TeamSelector:ja,Warning:xa,Modal:Ma}}),bt((dt=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(O["a"])(Object(_["a"])(e),"account",{name:"Loading...",discriminator:"0000",team:{name:"Loading..."}}),Object(O["a"])(Object(_["a"])(e),"canChangeTeam",!1),Object(O["a"])(Object(_["a"])(e),"canChangeDetails",!1),Object(O["a"])(Object(_["a"])(e),"canChangePermissions",!1),Object(O["a"])(Object(_["a"])(e),"canDeleteAccount",!1),Object(O["a"])(Object(_["a"])(e),"isOwnAccount",!1),Object(O["a"])(Object(_["a"])(e),"showAccountDeleteModal",!1),Object(O["a"])(Object(_["a"])(e),"accountPossesive","your"),e}return Object(d["a"])(a,[{key:"created",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.userAccount){e.next=3;break}return this.$router.push({path:"/account/".concat(this.$route.params.id)}),e.abrupt("return");case 3:if(this.isOwnAccount=this.$route.params.id===this.userAccount.id,t=common.canManage(this.$route.params.id,this.userAccount),t){e.next=8;break}return this.$router.push({path:"/account/".concat(this.$route.params.id)}),e.abrupt("return");case 8:this.canChangeTeam=1&t,this.canChangeDetails=2&t,this.canChangePermissions=4&t,this.canDeleteAccount=8&t,this.fetchAccount();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchAccount",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id,e.prev=1,e.next=4,this.client.getAccount(t);case 4:a=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](1),422===e.t0.code&&this.$router.push({path:"/404"}),e.abrupt("return");case 11:this.accountPossesive=this.isOwnAccount?"your":"".concat(a.name,"'s"),this.account=a;case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"updatePermissions",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.grant,n=t.revoke,e.next=3,this.client.updateAccount(this.account,{grantPermissions:a,revokePermissions:n});case 3:this.account=e.sent,this.isOwnAccount&&this.$emit("newCredentials");case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateUsername",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.client.updateAccount(this.account,{name:t});case 2:this.account=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateDiscriminator",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.client.updateAccount(this.account,{discriminator:t});case 2:this.account=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateAvatarUrl",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.client.updateAccount(this.account,{avatarUrl:t});case 2:this.account=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateTeam",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.client.updateAccount(this.account,{team:t});case 2:this.account=e.sent,this.isOwnAccount&&this.$emit("newCredentials");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteAccount",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.client.deleteAccount(this.account);case 2:this.isOwnAccount&&(common.logout(),this.$emit("newCredentials")),this.$router.push({path:"/"});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(ve),ft=dt))||ft),Sa=Ea,Da=(a("5c31"),Object(T["a"])(Sa,De,Ne,!1,null,"f1bc8f80",null)),Na=Da.exports,Ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main main--centered"},[a("ProfileCard",{attrs:{account:e.account}},[e.canManageAccount?a("router-link",{staticClass:"account__link",attrs:{to:"/account/"+e.account.id+"/manage"}},[e._v("Manage Account")]):e._e()],1)],1)},La=[],za=(_t=Object(j["a"])({components:{ProfileCard:Ue}}),_t((gt=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(O["a"])(Object(_["a"])(e),"account",{name:"Loading...",discriminator:"0000",team:{name:"Loading..."}}),Object(O["a"])(Object(_["a"])(e),"canManageAccount",!1),e}return Object(d["a"])(a,[{key:"created",value:function(){this.fetchAccount()}},{key:"fetchAccount",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id,e.prev=1,e.next=4,this.client.getAccount(t);case 4:a=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](1),422===e.t0.code&&this.$router.push({path:"/404"}),e.abrupt("return");case 11:this.canManageAccount=common.canManage(t,this.userAccount),this.isOwnAccount=this.userAccount&&t===this.userAccount.id,this.account=a;case 14:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}()}]),a}(ve),vt=gt))||vt),qa=za,Ba=Object(T["a"])(qa,Ia,La,!1,null,null,null),Ua=Ba.exports,Fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main main--full"},[a("h1",{staticClass:"main__title"},[e._v("Polympics Members")]),a("SearchBar",{on:{input:e.updateSearch},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),a("ItemList",{key:e.query,attrs:{paginator:e.accounts},scopedSlots:e._u([{key:"default",fn:function(e){return[a("AccountRow",{attrs:{account:e.item,showTeams:!0}})]}}])})],1)},Ka=[],Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",{staticClass:"item_list"},[e._l(e.items,(function(t){return a("tr",{staticClass:"item_list__row"},[e._t("default",null,{item:t})],2)})),e.items.length?e._e():a("tr",{staticClass:"item_list_placeholder"},[a("td",[e._v("There's nothing here!")])])],2)},Va=[],Ja=a("2909"),Ya=(Ot=Object(j["b"])(),Object(j["a"])((Ct=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(O["a"])(Object(_["a"])(e),"items",[]),Object(O["a"])(Object(_["a"])(e),"finished",!1),Object(O["a"])(Object(_["a"])(e),"currentlyFetching",!1),Object(C["a"])(Object(_["a"])(e),"paginator",wt,Object(_["a"])(e)),e}return Object(d["a"])(a,[{key:"mounted",value:function(){this.fetchItems(),window.addEventListener("scroll",this.fetchItems)}},{key:"destroyed",value:function(){window.removeEventListener("scroll",this.fetchItems)}},{key:"fetchItems",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.paginator){e.next=2;break}return e.abrupt("return");case 2:if(!this.finished&&!this.currentlyFetching){e.next=4;break}return e.abrupt("return");case 4:return this.currentlyFetching=!0,e.next=7,this.paginator.nextPage();case 7:if(a=e.sent,a.length){e.next=11;break}return this.finished=!0,e.abrupt("return");case 11:this.currentlyFetching=!1,(t=this.items).push.apply(t,Object(Ja["a"])(a));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(j["c"]),yt=Ct,wt=Object(k["a"])(yt.prototype,"paginator",[Ot],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jt=yt))||jt),Ha=Ya,Qa=(a("84f5"),Object(T["a"])(Ha,Wa,Va,!1,null,null,null)),Za=Qa.exports,Ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search_bar"},[a("input",{staticClass:"text_input search_bar__input",attrs:{placeholder:"Start searching...",type:"search"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}})])},Xa=[],en={props:["value"]},tn=en,an=(a("c166"),Object(T["a"])(tn,Ga,Xa,!1,null,"c2f88aa6",null)),nn=an.exports,rn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"transparent",rawName:"v-transparent"}]},[a("td",{staticClass:"item_list__row__image"},[a("img",{attrs:{src:e.account.avatarUrl+"?size=64",alt:"Pfp"}})]),a("td",{staticClass:"item_list__row__main"},[a("router-link",{attrs:{to:"/account/"+e.account.id}},[e._v(e._s(e.account.name)+"#"+e._s(e.account.discriminator))])],1),e.showTeams?a("td",{staticClass:"item_list__row__extra"},[e.account.team?a("router-link",{attrs:{to:"/team/"+e.account.team.id}},[e._v(e._s(e.account.team.name))]):a("span",[e._v("ðŸ³ï¸â€ðŸŒˆ No team")])],1):e._e(),e.showPromoteButtons?a("td",{staticClass:"item_list__row__extra"},[e.isOwnerCheck(e.account)?a("i",{staticClass:"fas fa-crown user_icon user_icon--demote",on:{click:function(t){return e.$emit("demoteMember",e.account)}}}):a("i",{staticClass:"fas fa-crown user_icon user_icon--promote",on:{click:function(t){return e.$emit("promoteMember",e.account)}}})]):e._e(),e.showKickButtons?a("td",{staticClass:"item_list__row__extra"},[a("i",{staticClass:"fas fa-user-slash user_icon user_icon--kick",on:{click:function(t){return e.$emit("kickMember",e.account)}}})]):e._e()])},cn=[],sn=(kt=Object(j["b"])(),xt=Object(j["b"])({default:!1}),At=Object(j["b"])({default:!1}),Tt=Object(j["b"])({default:!1}),Pt=Object(j["b"])({default:null}),Object(j["a"])((It=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(C["a"])(Object(_["a"])(e),"account",Mt,Object(_["a"])(e)),Object(C["a"])(Object(_["a"])(e),"showTeams",Et,Object(_["a"])(e)),Object(C["a"])(Object(_["a"])(e),"showPromoteButtons",St,Object(_["a"])(e)),Object(C["a"])(Object(_["a"])(e),"showKickButtons",Dt,Object(_["a"])(e)),Object(C["a"])(Object(_["a"])(e),"isOwnerCheck",Nt,Object(_["a"])(e)),e}return a}(j["c"]),Rt=It,Mt=Object(k["a"])(Rt.prototype,"account",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Et=Object(k["a"])(Rt.prototype,"showTeams",[xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),St=Object(k["a"])(Rt.prototype,"showPromoteButtons",[At],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dt=Object(k["a"])(Rt.prototype,"showKickButtons",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nt=Object(k["a"])(Rt.prototype,"isOwnerCheck",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$t=Rt))||$t),on=sn,un=(a("8811"),Object(T["a"])(on,rn,cn,!1,null,"7628c320",null)),ln=un.exports,mn=(Lt=Object(j["a"])({components:{ItemList:Za,SearchBar:nn,AccountRow:ln}}),Lt((qt=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(O["a"])(Object(_["a"])(e),"accounts",e.client.listAccounts()),Object(O["a"])(Object(_["a"])(e),"query",""),e}return Object(d["a"])(a,[{key:"updateSearch",value:function(){this.accounts=this.client.listAccounts({search:this.query})}}]),a}(ve),zt=qt))||zt),pn=mn,hn=Object(T["a"])(pn,Fa,Ka,!1,null,null,null),bn=hn.exports,fn=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},dn=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main main--centered"},[a("section",{staticClass:"page_intro page_intro--centered"},[a("i",{staticClass:"fas fa-search page_intro__icon"}),a("h1",{staticClass:"page_intro__header"},[e._v("404 Error")]),a("p",{staticClass:"page_intro__description"},[e._v("Couldn't find that page.")])])])}],_n=Object(j["a"])(Bt=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){return Object(f["a"])(this,a),t.apply(this,arguments)}return a}(ve))||Bt,vn=_n,gn=Object(T["a"])(vn,fn,dn,!1,null,null,null),On=gn.exports,jn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Redirecting")},yn=[],wn=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Cn=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main main--centered"},[a("section",{staticClass:"page_intro page_intro--centered"},[a("i",{staticClass:"fas fa-spinner fa-spin fa-5x"}),a("h1",{staticClass:"page_intro__header"},[e._v("Redirecting...")]),a("p",{staticClass:"page_intro__description"},[e._v("You should be redirected shortly")])])])}],kn={},xn=Object(T["a"])(kn,wn,Cn,!1,null,null,null),An=xn.exports,Tn=(Ut=Object(j["a"])({components:{Redirecting:An}}),Ut(Ft=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){return Object(f["a"])(this,a),t.apply(this,arguments)}return Object(d["a"])(a,[{key:"mounted",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.account){e.next=3;break}return this.$router.push({path:"/account/".concat(this.account.id)}),e.abrupt("return");case 3:window.location.href="https://discord.com/api/oauth2/authorize?response_type=token&scope=identify&client_id=822436180439203861&redirect_uri=https://polytopia.fun/login/callback";case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(ve))||Ft),Pn=Tn,$n=Object(T["a"])(Pn,jn,yn,!1,null,null,null),Rn=$n.exports,Mn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Redirecting")},En=[],Sn=(a("2b3d"),a("d3b7"),a("ddb0"),Kt=Object(j["a"])({components:{Redirecting:An}}),Kt(Wt=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){return Object(f["a"])(this,a),t.apply(this,arguments)}return Object(d["a"])(a,[{key:"mounted",value:function(){var e=new URLSearchParams(window.location.hash.substr(1)),t=e.get("scope")||"";t.indexOf("identify")<0?this.failLogin():this.loginWith(e.get("access_token"))}},{key:"failLogin",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push({path:"/"});case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loginWith",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.client.discordAuthenticate(t);case 2:return a=e.sent,common.login(a),n=common.getClient("https://api.polytopia.fun"),e.next=7,n.getSelf();case 7:r=e.sent,this.$emit("newCredentials"),this.$router.push({path:"/account/".concat(r.id)});case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),a}(ve))||Wt),Dn=Sn,Nn=Object(T["a"])(Dn,Mn,En,!1,null,null,null),In=Nn.exports,Ln=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Redirecting")},zn=[],qn=(Vt=Object(j["a"])({components:{Redirecting:An}}),Vt(Jt=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){return Object(f["a"])(this,a),t.apply(this,arguments)}return Object(d["a"])(a,[{key:"mounted",value:function(){common.logout(),this.$emit("newCredentials"),this.$router.push({path:"/"})}}]),a}(ve))||Jt),Bn=qn,Un=Object(T["a"])(Bn,Ln,zn,!1,null,null,null),Fn=Un.exports,Kn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main main--full"},[a("h1",{staticClass:"main__title"},[e._v("Teams")]),a("SearchBar",{on:{input:e.updateSearch},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),a("ItemList",{key:e.query,attrs:{paginator:e.teams},scopedSlots:e._u([{key:"default",fn:function(t){return[a("td",{staticClass:"item_list__row__main"},[a("router-link",{attrs:{to:"/team/"+t.item.id}},[e._v(e._s(t.item.name))])],1),a("td",{staticClass:"item_list__row__extra"},[e._v(e._s(t.item.memberCount)+" members")])]}}])})],1)},Wn=[],Vn=(Yt=Object(j["a"])({components:{ItemList:Za,SearchBar:nn}}),Yt((Qt=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(O["a"])(Object(_["a"])(e),"teams",e.client.listTeams()),Object(O["a"])(Object(_["a"])(e),"query",""),e}return Object(d["a"])(a,[{key:"updateSearch",value:function(){this.teams=this.client.listTeams({search:this.query})}}]),a}(ve),Ht=Qt))||Ht),Jn=Vn,Yn=Object(T["a"])(Jn,Kn,Wn,!1,null,null,null),Hn=Yn.exports,Qn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main main--full"},[a("section",{staticClass:"team_header"},[a("h1",{staticClass:"name"},[e.canManageTeam?a("EditableText",{attrs:{placeholder:"Team Name",value:e.team.name},on:{input:e.updateTeamName}}):a("span",[e._v(e._s(e.team.name))])],1),e.canManageTeam?a("button",{staticClass:"button button--danger button--enabled",on:{click:function(t){e.showTeamDeleteModal=!0}}},[e._v("Delete Team")]):e._e()]),a("Modal",{staticClass:"delete_modal",attrs:{show:e.showTeamDeleteModal}},[a("h2",[e._v("Delete team?")]),a("p",[e._v("You cannot undo this action. Make sure you're certain you want to delete Team \""+e._s(e.team.name)+'".')]),a("button",{staticClass:"button button--black button--enabled",on:{click:e.deleteTeam}},[e._v("Delete")]),a("button",{staticClass:"button button--black button--enabled",on:{click:function(t){e.showTeamDeleteModal=!1}}},[e._v("Cancel")])]),a("h3",{staticClass:"member_count"},[e._v(e._s(e.team.memberCount)+" members")]),a("SearchBar",{on:{input:e.update},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),a("ItemList",{key:e.listKey,staticClass:"member_list",attrs:{paginator:e.members},scopedSlots:e._u([{key:"default",fn:function(t){return[a("AccountRow",{attrs:{account:t.item,showPromoteButtons:e.canPromoteMembers,showKickButtons:e.canKickMembers,isOwnerCheck:e.isOwner},on:{demoteMember:e.demoteMember,promoteMember:e.promoteMember,kickMember:e.kickMember}})]}}])})],1)},Zn=[],Gn=(a("25f0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.editable?a("input",{directives:[{name:"model",rawName:"v-model",value:e.editedValue,expression:"editedValue"}],ref:"editableTextInput",staticClass:"text_input",attrs:{placeholder:e.placeholder},domProps:{value:e.editedValue},on:{input:[function(t){t.target.composing||(e.editedValue=t.target.value)},function(t){return e.$emit("input",t.target.value)}],focusout:e.makeUnEditable}}):a("span",{staticClass:"text_uneditable",on:{click:e.makeEditable}},[e._v(e._s(e.editedValue)),a("i",{staticClass:"fas fa-pencil-alt text_uneditable__icon"})])}),Xn=[],er=(Zt=Object(j["a"])(),Gt=Object(j["b"])(),Xt=Object(j["b"])({default:"Type something..."}),Zt((ra=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(C["a"])(Object(_["a"])(e),"value",aa,Object(_["a"])(e)),Object(C["a"])(Object(_["a"])(e),"placeholder",na,Object(_["a"])(e)),Object(O["a"])(Object(_["a"])(e),"editable",!1),Object(O["a"])(Object(_["a"])(e),"editedValue",""),e}return Object(d["a"])(a,[{key:"created",value:function(){this.editedValue=this.value}},{key:"makeEditable",value:function(){var e=this;this.editable=!0,this.$nextTick((function(){e.$refs.editableTextInput.focus()}))}},{key:"makeUnEditable",value:function(){this.editable=!1}}]),a}(j["c"]),ta=ra,aa=Object(k["a"])(ta.prototype,"value",[Gt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),na=Object(k["a"])(ta.prototype,"placeholder",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ea=ta))||ea),tr=er,ar=(a("5eae"),Object(T["a"])(tr,Gn,Xn,!1,null,"209c0de2",null)),nr=ar.exports,rr=(ca=Object(j["a"])({components:{ItemList:Za,SearchBar:nn,EditableText:nr,AccountRow:ln,Modal:Ma}}),ca((sa=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(O["a"])(Object(_["a"])(e),"team",{name:"Loading...",memberCount:0,id:0}),Object(O["a"])(Object(_["a"])(e),"members",null),Object(O["a"])(Object(_["a"])(e),"query",""),Object(O["a"])(Object(_["a"])(e),"listKey",0),Object(O["a"])(Object(_["a"])(e),"canManageTeam",!1),Object(O["a"])(Object(_["a"])(e),"canKickMembers",!1),Object(O["a"])(Object(_["a"])(e),"canPromoteMembers",!1),Object(O["a"])(Object(_["a"])(e),"showTeamDeleteModal",!1),e}return Object(d["a"])(a,[{key:"created",value:function(){this.update()}},{key:"update",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchTeam();case 2:this.members=this.client.listAccounts({search:this.query,team:this.team}),this.listKey+=1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchTeam",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id,e.prev=1,e.next=4,this.client.getTeam(t);case 4:this.team=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e["catch"](1),422===e.t0.code&&this.$router.push({path:"/404"}),e.abrupt("return");case 11:if(this.userAccount){e.next=13;break}return e.abrupt("return");case 13:a=polympics.PolympicsPermissions,n=this.userAccount.permissions,r=this.userAccount.team&&this.userAccount.team.id.toString()===t&&n&a.manageOwnTeam,this.canManageTeam=r||n&a.manageTeams,this.canKickMembers=r||n&a.manageAccountTeams,this.canPromoteMembers=r||n&a.managePermissions&&n&(a.manageTeams|a.manageOwnTeam);case 19:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"isOwner",value:function(e){return e.permissions&polympics.PolympicsPermissions.manageOwnTeam}},{key:"updateTeamName",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.client.updateTeam(this.team,{name:t});case 2:this.team.name=t;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"kickMember",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.client.updateAccount(t,{team:null});case 2:this.update();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"promoteMember",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.client.updateAccount(t,{grantPermissions:polympics.PolympicsPermissions.manageOwnTeam});case 2:this.update();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"demoteMember",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.client.updateAccount(t,{revokePermissions:polympics.PolympicsPermissions.manageOwnTeam});case 2:this.update();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteTeam",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.userAccount.team&&this.userAccount.team.id===this.team.id,e.next=3,this.client.deleteTeam(this.team);case 3:t&&this.$emit("newCredentials"),this.$router.push({path:"/teams"});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(ve),ia=sa))||ia),cr=rr,ir=(a("4a52"),Object(T["a"])(cr,Qn,Zn,!1,null,"6da447f6",null)),sr=ir.exports,or=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"main"},[a("form",{staticClass:"page_content create_team_form",on:{submit:function(t){return t.preventDefault(),e.createTeam(t)}}},[a("h1",{staticClass:"page_intro__header"},[e._v("Create a Team")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.teamName,expression:"teamName"}],staticClass:"text_input",attrs:{id:"team_name_input",placeholder:"Team name"},domProps:{value:e.teamName},on:{input:function(t){t.target.composing||(e.teamName=t.target.value)}}}),a("input",{staticClass:"button",class:e.teamName?"button--enabled":"button--disabled",attrs:{type:"submit",value:"Create"}})])])},ur=[],lr=(oa=Object(j["a"])(),oa((la=function(e){Object(v["a"])(a,e);var t=Object(g["a"])(a);function a(){var e;Object(f["a"])(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r)),Object(O["a"])(Object(_["a"])(e),"teamName",""),e}return Object(d["a"])(a,[{key:"created",value:function(){var e=this.userAccount&&this.userAccount.permissions&polympics.PolympicsPermissions.manageTeams;e||this.$router.push({path:"/"})}},{key:"createTeam",value:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.teamName){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.client.createTeam(this.teamName);case 4:t=e.sent,this.$router.push({path:"/team/".concat(t.id)});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(ve),ua=la))||ua),mr=lr,pr=(a("9d38"),Object(T["a"])(mr,or,ur,!1,null,"7d96881e",null)),hr=pr.exports;m["a"].use(le["a"]);var br=[{path:"/",component:Te},{path:"/about",component:Se},{path:"/accounts",component:bn},{path:"/account/:id",component:Ua},{path:"/account/:id/manage",component:Na},{path:"/teams",component:Hn},{path:"/teams/create",component:hr},{path:"/team/:id",component:sr},{path:"/login",component:Rn},{path:"/login/callback",component:In},{path:"/logout",component:Fn},{path:"**",component:On}],fr=new le["a"]({mode:"history",base:"/",scrollBehavior:function(e,t,a){return a||{x:0,y:0}},routes:br}),dr=fr;m["a"].config.productionTip=!1,m["a"].directive("transparent",{inserted:function(e){var t=Array.from(e.children),a=e.parentElement;a&&(t.forEach((function(e){a.appendChild(e)})),a.removeChild(e))}}),new m["a"]({router:dr,render:function(e){return e(z)}}).$mount("#app")},cf25:function(e,t,a){"use strict";a("fea6")},d4c6:function(e,t,a){},d692:function(e,t,a){},f031:function(e,t,a){"use strict";a("0f63")},fea6:function(e,t,a){},fecf:function(e,t,a){}});
//# sourceMappingURL=app.886178bc.js.map